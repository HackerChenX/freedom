# 可配置选股系统示例策略配置

本文档提供了可配置选股系统的示例策略配置，包括不同类型的策略和配置方式，可作为用户创建自定义策略的参考。

## 基础概念

可配置选股系统支持通过JSON格式的配置文件定义策略。一个完整的策略配置包含以下部分：

1. **策略基本信息**：包括ID、名称、描述等
2. **条件组**：由多个指标条件和逻辑运算符组成
3. **过滤器**：用于筛选股票范围
4. **排序规则**：用于对结果进行排序

## 示例1：均线金叉策略

这是一个简单的均线金叉策略，寻找5日均线上穿20日均线的股票。

```json
{
  "strategy": {
    "id": "MA_GOLDEN_CROSS_STRATEGY",
    "name": "均线金叉策略",
    "description": "寻找5日均线上穿20日均线的股票",
    "version": "1.0",
    "author": "system",
    "create_time": "2023-07-15 10:00:00",
    "update_time": "2023-07-15 10:00:00",
    "conditions": [
      {
        "indicator_id": "MA_CROSS",
        "period": "DAILY",
        "parameters": {
          "fast_period": 5,
          "slow_period": 20
        },
        "signal_type": "CROSS_OVER"
      }
    ],
    "filters": {
      "market": ["主板", "科创板", "创业板"],
      "market_cap": {
        "min": 50,
        "max": 2000
      },
      "price": {
        "min": 5,
        "max": 100
      }
    },
    "sort": [
      {
        "field": "market_cap",
        "direction": "ASC"
      }
    ]
  }
}
```

## 示例2：MACD与KDJ多条件策略

这个策略结合了MACD金叉和KDJ超买条件，是一个多条件组合策略的示例。

```json
{
  "strategy": {
    "id": "MACD_KDJ_COMBO_STRATEGY",
    "name": "MACD与KDJ组合策略",
    "description": "寻找MACD金叉且KDJ超买的股票",
    "version": "1.0",
    "author": "system",
    "create_time": "2023-07-20 14:30:00",
    "update_time": "2023-07-20 14:30:00",
    "conditions": [
      {
        "indicator_id": "MACD_CROSS",
        "period": "DAILY",
        "parameters": {
          "fast_period": 12,
          "slow_period": 26,
          "signal_period": 9
        },
        "signal_type": "GOLDEN_CROSS"
      },
      {
        "logic": "AND"
      },
      {
        "indicator_id": "KDJ_SIGNAL",
        "period": "DAILY",
        "parameters": {
          "k_period": 9,
          "d_period": 3,
          "j_period": 3
        },
        "signal_type": "OVERSOLD"
      }
    ],
    "filters": {
      "industry": ["电子", "计算机", "通信"],
      "market_cap": {
        "min": 100,
        "max": 5000
      }
    },
    "sort": [
      {
        "field": "signal_strength",
        "direction": "DESC"
      }
    ]
  }
}
```

## 示例3：多周期共振策略

这个策略结合了不同周期的指标条件，寻找日线和周线同时满足条件的股票。

```json
{
  "strategy": {
    "id": "MULTI_PERIOD_STRATEGY",
    "name": "多周期共振策略",
    "description": "寻找日线RSI超卖且周线MACD金叉的股票",
    "version": "1.0",
    "author": "system",
    "create_time": "2023-08-01 09:15:00",
    "update_time": "2023-08-01 09:15:00",
    "conditions": [
      {
        "indicator_id": "RSI_SIGNAL",
        "period": "DAILY",
        "parameters": {
          "period": 14
        },
        "signal_type": "OVERSOLD"
      },
      {
        "logic": "AND"
      },
      {
        "indicator_id": "MACD_CROSS",
        "period": "WEEKLY",
        "parameters": {
          "fast_period": 12,
          "slow_period": 26,
          "signal_period": 9
        },
        "signal_type": "GOLDEN_CROSS"
      }
    ],
    "filters": {
      "market": ["主板", "科创板", "创业板"],
      "volume": {
        "min_ratio": 1.5
      }
    },
    "sort": [
      {
        "field": "rsi_value",
        "direction": "ASC"
      }
    ]
  }
}
```

## 示例4：形态识别策略

这个策略使用了K线形态识别，寻找出现特定K线形态的股票。

```json
{
  "strategy": {
    "id": "PATTERN_RECOGNITION_STRATEGY",
    "name": "形态识别策略",
    "description": "寻找出现头肩底形态的股票",
    "version": "1.0",
    "author": "system",
    "create_time": "2023-08-10 16:20:00",
    "update_time": "2023-08-10 16:20:00",
    "conditions": [
      {
        "indicator_id": "ADVANCED_PATTERN",
        "period": "DAILY",
        "parameters": {
          "pattern_type": "HEAD_SHOULDERS_BOTTOM",
          "min_strength": 70
        },
        "signal_type": "PATTERN_FOUND"
      }
    ],
    "filters": {
      "market": ["主板", "科创板", "创业板"],
      "avg_volume": {
        "days": 20,
        "min": 1000000
      }
    },
    "sort": [
      {
        "field": "signal_strength",
        "direction": "DESC"
      },
      {
        "field": "volume_ratio",
        "direction": "DESC"
      }
    ]
  }
}
```

## 示例5：复合逻辑策略

这个策略使用了复杂的逻辑组合，展示了如何使用AND、OR、NOT等逻辑运算符。

```json
{
  "strategy": {
    "id": "COMPLEX_LOGIC_STRATEGY",
    "name": "复合逻辑策略",
    "description": "使用复杂逻辑组合的策略",
    "version": "1.0",
    "author": "system",
    "create_time": "2023-08-15 11:30:00",
    "update_time": "2023-08-15 11:30:00",
    "conditions": [
      {
        "indicator_id": "MA_CROSS",
        "period": "DAILY",
        "parameters": {
          "fast_period": 5,
          "slow_period": 20
        },
        "signal_type": "CROSS_OVER"
      },
      {
        "logic": "AND"
      },
      {
        "indicator_id": "VOLUME_INCREASE",
        "period": "DAILY",
        "parameters": {
          "days": 5,
          "min_ratio": 2.0
        },
        "signal_type": "VOLUME_SURGE"
      },
      {
        "logic": "AND"
      },
      {
        "logic": "NOT"
      },
      {
        "indicator_id": "BOLL_POSITION",
        "period": "DAILY",
        "parameters": {
          "period": 20,
          "std_dev": 2
        },
        "signal_type": "UPPER_BREAK"
      }
    ],
    "filters": {
      "market": ["主板"],
      "price": {
        "min": 10,
        "max": 50
      }
    },
    "sort": [
      {
        "field": "signal_strength",
        "direction": "DESC"
      }
    ]
  }
}
```

## 配置参数说明

### 策略基本信息

| 参数名 | 类型 | 必填 | 说明 |
|-------|-----|------|-----|
| id | 字符串 | 是 | 策略唯一标识 |
| name | 字符串 | 是 | 策略名称 |
| description | 字符串 | 否 | 策略描述 |
| version | 字符串 | 否 | 策略版本号 |
| author | 字符串 | 否 | 策略作者 |
| create_time | 字符串 | 否 | 创建时间 |
| update_time | 字符串 | 否 | 更新时间 |

### 条件参数

| 参数名 | 类型 | 必填 | 说明 |
|-------|-----|------|-----|
| indicator_id | 字符串 | 是 | 指标ID |
| period | 字符串 | 是 | 周期类型（DAILY, WEEKLY, MONTHLY, MIN60, MIN30, MIN15, MIN5） |
| parameters | 对象 | 否 | 指标参数 |
| signal_type | 字符串 | 是 | 信号类型 |

### 逻辑运算符

支持的逻辑运算符有：
- AND：与
- OR：或
- NOT：非

### 过滤器参数

| 参数名 | 类型 | 必填 | 说明 |
|-------|-----|------|-----|
| market | 字符串数组 | 否 | 市场类型 |
| industry | 字符串数组 | 否 | 行业类型 |
| market_cap | 对象 | 否 | 市值范围 |
| price | 对象 | 否 | 价格范围 |
| volume | 对象 | 否 | 成交量条件 |

### 排序参数

| 参数名 | 类型 | 必填 | 说明 |
|-------|-----|------|-----|
| field | 字符串 | 是 | 排序字段 |
| direction | 字符串 | 是 | 排序方向（ASC, DESC） |

## 常见问题与解决方案

1. **如何组合多个指标条件？**
   使用逻辑运算符（AND, OR, NOT）连接多个指标条件。

2. **如何设置不同周期的指标？**
   在每个指标条件中设置period参数，指定所需的周期类型。

3. **如何限制选股范围？**
   使用filters配置项设置市场、行业、市值等过滤条件。

4. **如何排序选股结果？**
   使用sort配置项设置排序字段和方向。

5. **策略ID是否可以自定义？**
   是的，但建议使用有意义的名称，便于识别和管理。 