[模式: 计划]

# 指标修复与测试进度表

## 目标

改变原有的修复策略，采用逐个击破的方式。对每一个技术指标，完成以下循环：

1.  **代码审查与重构**：检查指标实现是否健壮、高效。
2.  **测试关键**：验证指标的技术形态判断是否准确、评分机制是否合理、技术形态注册是否完善
3.  **单元测试修复**：修复与该指标相关的所有单元测试，确保逻辑正确。
4.  **集成测试验证**：确保指标在回测或选股策略中能正确工作。
5.  **文档更新**：更新指标相关的文档和注释。

只有当一个指标完全通过所有测试后，才开始下一个指标的修复工作。

## 进度追踪

### 第一部分：核心技术指标

| 指标 (Indicator) | 指标文件路径 | 主要测试脚本 | 状态 | 是否可用 | 备注 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **MACD** | `indicators/macd.py` | `tests/unit/test_macd.py` | **进行中** | 否 | **当前焦点** |
| **KDJ** | `indicators/kdj.py` | `tests/unit/test_kdj.py`  (待确认) | 未开始 | 否 | |
| **RSI** | `indicators/rsi.py` | `tests/unit/test_rsi.py`  (待确认) | 未开始 | 否 | |
| AD | `indicators/ad.py` | `tests/unit/test_ad.py` (待确认) | 未开始 | 否 | |
| ADX | `indicators/adx.py` | `tests/unit/test_adx.py` (待确认) | 未开始 | 否 | |
| Aroon | `indicators/aroon.py` | `tests/unit/test_aroon.py` (待确认) | 未开始 | 否 | |
| ATR | `indicators/atr.py` | `tests/unit/test_atr.py` (待确认) | 未开始 | 否 | |
| BIAS | `indicators/bias.py` | `tests/unit/test_bias.py` (待确认) | 未开始 | 否 | |
| BOLL | `indicators/boll.py` | `tests/unit/test_boll.py` (待确认) | 未开始 | 否 | |
| CCI | `indicators/cci.py` | `tests/unit/test_cci.py` (待确认) | 未开始 | 否 | |
| Chaikin | `indicators/chaikin.py` | `tests/unit/test_chaikin.py` (待确认) | 未开始 | 否 | |
| CMO | `indicators/cmo.py` | `tests/unit/test_cmo.py` (待确认) | 未开始 | 否 | |
| DMA | `indicators/dma.py` | `tests/unit/test_dma.py` (待确认) | 未开始 | 否 | |
| DMI | `indicators/dmi.py` | `tests/unit/test_dmi.py` (待确认) | 未开始 | 否 | |
| EMA | `indicators/ema.py` | `tests/unit/test_ema.py` (待确认) | 未开始 | 否 | |
| EMV | `indicators/emv.py` | `tests/unit/test_emv.py` (待确认) | 未开始 | 否 | |
| Ichimoku | `indicators/ichimoku.py` | `tests/unit/test_ichimoku.py` (待确认) | 未开始 | 否 | |
| KC | `indicators/kc.py` | `tests/unit/test_kc.py` (待确认) | 未开始 | 否 | |
| MA | `indicators/ma.py` | `tests/unit/test_ma.py` (待确认) | 未开始 | 否 | |
| MFI | `indicators/mfi.py` | `tests/unit/test_mfi.py` (待确认) | 未开始 | 否 | |
| Momentum | `indicators/momentum.py` | `tests/unit/test_momentum.py` (待确认) | 未开始 | 否 | |
| MTM | `indicators/mtm.py` | `tests/unit/test_mtm.py` (待确认) | 未开始 | 否 | |
| OBV | `indicators/obv.py` | `tests/unit/test_obv.py` (待确认) | 未开始 | 否 | |
| PSY | `indicators/psy.py` | `tests/unit/test_psy.py` (待确认) | 未开始 | 否 | |
| PVT | `indicators/pvt.py` | `tests/unit/test_pvt.py` (待确认) | 未开始 | 否 | |
| ROC | `indicators/roc.py` | `tests/unit/test_roc.py` (待确认) | 未开始 | 否 | |
| SAR | `indicators/sar.py` | `tests/unit/test_sar.py` (待确认) | 未开始 | 否 | |
| StochRSI | `indicators/stochrsi.py` | `tests/unit/test_stochrsi.py` (待确认) | 未开始 | 否 | |
| TRIX | `indicators/trix.py` | `tests/unit/test_trix.py` (待确认) | 未开始 | 否 | |
| VIX | `indicators/vix.py` | `tests/unit/test_vix.py` (待确认) | 未开始 | 否 | |
| VOL | `indicators/vol.py` | `tests/unit/test_vol.py` (待确认) | 未开始 | 否 | |
| Volume Ratio | `indicators/volume_ratio.py` | `tests/unit/test_volume_ratio.py` (待确认) | 未开始 | 否 | |
| VOSC | `indicators/vosc.py` | `tests/unit/test_vosc.py` (待确认) | 未开始 | 否 | |
| VR | `indicators/vr.py` | `tests/unit/test_vr.py` (待确认) | 未开始 | 否 | |
| Vortex | `indicators/vortex.py` | `tests/unit/test_vortex.py` (待确认) | 未开始 | 否 | |
| WMA | `indicators/wma.py` | `tests/unit/test_wma.py` (待确认) | 未开始 | 否 | |
| WR | `indicators/wr.py` | `tests/unit/test_wr.py` (待确认) | 未开始 | 否 | |

### 第二部分：增强型与复合型指标

| 指标 (Indicator) | 指标文件路径 | 主要测试脚本 | 状态 | 是否可用 | 备注 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **增强型 (Trend)** | | | | | |
| EnhancedCCI | `indicators/trend/enhanced_cci.py` | (待定) | 未开始 | 否 | |
| EnhancedDMI | `indicators/trend/enhanced_dmi.py` | (待定) | 未开始 | 否 | |
| EnhancedMACD | `indicators/trend/enhanced_macd.py` | (待定) | 未开始 | 否 | |
| EnhancedTRIX | `indicators/trend/enhanced_trix.py` | (待定) | 未开始 | 否 | |
| **增强型 (Oscillator)** | | | | | |
| EnhancedKDJ | `indicators/oscillator/enhanced_kdj.py` | (待定) | 未开始 | 否 | |
| **增强型 (Volume)** | | | | | |
| EnhancedMFI | `indicators/volume/enhanced_mfi.py` | (待定) | 未开始 | 否 | |
| EnhancedOBV | `indicators/volume/enhanced_obv.py` | (待定) | 未开始 | 否 | |
| **复合与框架** | | | | | |
| CompositeIndicator | `indicators/composite_indicator.py` | (待定) | 未开始 | 否 | |
| UnifiedMA | `indicators/unified_ma.py` | (待定) | 未开始 | 否 | |
| ChipDistribution | `indicators/chip_distribution.py` | (待定) | 未开始 | 否 | |
| InstitutionalBehavior | `indicators/institutional_behavior.py` | (待定) | 未开始 | 否 | |
| StockVIX | `indicators/stock_vix.py` | (待定) | 未开始 | 否 | |

### 第三部分：特色与策略类指标

| 指标 (Indicator) | 指标文件路径 | 主要测试脚本 | 状态 | 是否可用 | 备注 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **形态 (Pattern)** | | | | | |
| Candlestick Patterns | `indicators/pattern/candlestick_patterns.py` | (待定) | 未开始 | 否 | |
| Advanced Candlestick | `indicators/pattern/advanced_candlestick_patterns.py`| (待定) | 未开始 | 否 | |
| ZXM Patterns | `indicators/pattern/zxm_patterns.py` | (待定) | 未开始 | 否 | |
| **特色工具 (Tools)** | | | | | |
| Fibonacci Tools | `indicators/fibonacci_tools.py` | (待定) | 未开始 | 否 | |
| Gann Tools | `indicators/gann_tools.py` | (待定) | 未开始 | 否 | |
| Elliott Wave | `indicators/elliott_wave.py` | (待定) | 未开始 | 否 | |
| **ZXM 体系** | | | | | |
| ZXM Trend | `indicators/zxm/trend_indicators.py` | (待定) | 未开始 | 否 | |
| ZXM Elasticity | `indicators/zxm/elasticity_indicators.py` | (待定) | 未开始 | 否 | |
| ZXM Buy Points | `indicators/zxm/buy_point_indicators.py` | (待定) | 未开始 | 否 | |
| ZXM Score | `indicators/zxm/score_indicators.py` | (待定) | 未开始 | 否 | |
| ZXM Diagnostics | `indicators/zxm/diagnostics.py` | (待定) | 未开始 | 否 | |
| ZXM Market Breadth | `indicators/zxm/market_breadth.py` | (待定) | 未开始 | 否 | | 