[模式：研究]
## 剩余指标测试覆盖分析

### 1. 研究目标
在第一期测试覆盖提升工作完成后，精确识别出项目中所有剩余的、完全没有单元测试覆盖的指标。

### 2. 分析过程
1.  **基线确定**: 以 `doc/研究/指标测试覆盖率分析.md` 文件中识别出的原始未覆盖指标列表作为分析基线。
2.  **完成项剔除**: 根据 `doc/回顾/指标测试覆盖提升回顾-第一期.md` 的报告，从基线列表中移除了已完成测试的六个量价指标：`ad`, `mfi`, `obv`, `pvt`, `vosc`, `vr`。
3.  **最终列表生成**: 经过上述剔除操作，生成了最终的未覆盖指标清单。

### 3. 研究结论

**剩余未覆盖指标清单**:
以下是截至目前，项目中所有尚未建立任何单元测试的指标：

-   `aroon` (阿隆指标)
-   `chaikin` (蔡金振荡器)
-   `chip_distribution` (筹码分布)
-   `cmo` (钱德动量振荡器)
-   `composite_indicator` (复合指标)
-   `dma` (不同移动平均)
-   `elliott_wave` (艾略特波浪)
-   `emv` (简易波动指标)
-   `enhanced_macd` (增强型MACD)
-   `enhanced_rsi` (增强型RSI)
-   `fibonacci` & `fibonacci_tools` (斐波那契工具)
-   `formula_indicators` (公式指标)
-   `gann_tools` (江恩工具)
-   `ichimoku` (一目均衡表)
-   `institutional_behavior` (机构行为)
-   `intraday_volatility` (日内波动率)
-   `island_reversal` (岛形反转)
-   `kc` (肯特纳通道)
-   `multi_period_resonance` (多周期共振)
-   `platform_breakout` (平台突破)
-   `psy` (心理线)
-   `sar` (抛物线指标)
-   `sentiment_analysis` (情绪分析)
-   `stock_vix` (个股波动率)
-   `stochrsi` (随机RSI)
-   `time_cycle_analysis` (时间周期分析)
-   `trend_classification` (趋势分类)
-   `trend_strength` (趋势强度)
-   `trix` (三重指数平滑移动平均)
-   `unified_ma` (统一均线)
-   `v_shaped_reversal` (V形反转)
-   `vix` (市场波动率)
-   `volume_ratio` (量比)
-   `vortex` (涡旋指标)
-   `zxm_absorb` (捉妖记吸筹)
-   `zxm_washplate` (捉妖记洗盘)

---
[模式：创新]
## 第二期测试覆盖提升策略

### 1. 逻辑分组

鉴于剩余指标数量庞大且种类繁多，延续第一期的成功策略，采用逻辑分组的方式进行测试开发是最高效的选择。

-   **分组一：标准技术指标组**
    -   **内容**: `aroon`, `chaikin`, `cmo`, `ichimoku`, `kc`, `sar`, `stochrsi`, `trix`, `vortex`, `dma`, `emv`, `psy`
    -   **理由**: 这些是业界标准的、有明确计算公式的技术指标，适合放在一起优先测试。

-   **分组二：策略与定制指标组**
    -   **内容**: `enhanced_macd`, `enhanced_rsi`, `composite_indicator`, `formula_indicators`, `platform_breakout`, `v_shaped_reversal`, `island_reversal`, `zxm_absorb`, `zxm_washplate`
    -   **理由**: 这些是项目特有的、经过增强或自定义的策略型指标。

-   **分组三：高级理论与分析指标组**
    -   **内容**: `chip_distribution`, `elliott_wave`, `fibonacci`, `gann_tools`, `institutional_behavior`, `multi_period_resonance`, `sentiment_analysis`, `time_cycle_analysis`, `trend_classification`, `trend_strength`
    -   **理由**: 这些指标基于复杂的理论（如波浪理论、江恩理论），测试它们可能需要更复杂的模拟数据和验证逻辑。

-   **分组四：波动率与其他指标组**
    -   **内容**: `intraday_volatility`, `stock_vix`, `vix`, `volume_ratio`, `unified_ma`
    -   **理由**: 这些指标主要与波动率或特定计算方式相关。

### 2. 实施建议

**优先实施"分组一：标准技术指标组"**。

-   **原因**:
    1.  **价值高**: 这些是常用且基础的技术指标，确保其准确性对整个系统的稳定性至关重要。
    2.  **可测试性好**: 它们的输入输出明确，易于编写单元测试进行验证。
    3.  **风险低**: 实现和测试这些标准指标的复杂性相对较低。

-   **下一步行动**:
    -   为"分组一"制定详细的实施计划。
    -   创建一个新的测试文件，如 `tests/unit/test_standard_technical_indicators.py`。
    -   在该文件中为该组的所有指标创建基础的测试类框架。 