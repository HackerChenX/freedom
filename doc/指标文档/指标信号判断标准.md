# 技术指标信号判断标准

本文档详细说明了系统中已实现的各个技术指标的概念、参数、通达信公式、买入信号、卖出信号和中性信号判断标准，为指标应用提供统一的参考。

## 已实现指标列表

系统目前已实现以下52个技术指标（按类别分组）：

### 1. 趋势类指标
- **MA**（移动平均线）- `indicators/ma.py`
- **EMA**（指数移动平均线）- `indicators/ema.py`
- **WMA**（加权移动平均线）- `indicators/wma.py`
- **MACD**（平滑异同移动平均线）- `indicators/macd.py`
- **BIAS**（乖离率）- `indicators/bias.py`
- **BOLL**（布林带）- `indicators/boll.py`
- **SAR**（抛物线转向）- `indicators/sar.py`
- **DMI**（趋向指标）- `indicators/dmi.py`
- **TRIX**（三重指数平滑移动平均线）- `indicators/trix.py`
- **PlatformBreakout**（平台突破指标）- `indicators/platform_breakout.py`

### 2. 震荡类指标
- **RSI**（相对强弱指标）- `indicators/rsi.py`
- **KDJ**（随机指标）- `indicators/kdj.py`
- **WR**（威廉指标）- `indicators/wr.py`
- **CCI**（顺势指标）- `indicators/cci.py`
- **MTM**（动量指标）- `indicators/mtm.py`
- **ROC**（变动率）- `indicators/roc.py`
- **StochRSI**（随机相对强弱指标）- `indicators/stochrsi.py`
- **Momentum**（动量指标）- `indicators/momentum.py`
- **RSIMA**（RSI均线系统指标）- `indicators/rsima.py`
- **EMV**（指数平均数指标）- `indicators/emv.py`

### 3. 量能类指标
- **VOL**（成交量）- `indicators/vol.py`
- **OBV**（能量潮）- `indicators/obv.py`
- **VOSC**（成交量变异率）- `indicators/vosc.py`
- **MFI**（资金流向指标）- `indicators/mfi.py`
- **VR**（成交量指标）- `indicators/vr.py`
- **PVT**（价量趋势指标）- `indicators/pvt.py`
- **VolumeRatio**（量比指标）- `indicators/volume_ratio.py`
- **ChipDistribution**（筹码分布指标）- `indicators/chip_distribution.py`

### 4. 波动性指标
- **ATR**（平均真实波幅）- `indicators/atr.py`
- **IntradayVolatility**（日内波动率指标）- `indicators/intraday_volatility.py`
- **VIX**（恐慌指数）- `indicators/vix.py`

### 5. 形态识别指标
- **CandlestickPatterns**（K线形态识别）- `indicators/pattern/candlestick_patterns.py`
- **AdvancedCandlestickPatterns**（高级K线形态）- `indicators/pattern/advanced_candlestick_patterns.py`
- **FibonacciTools**（斐波那契工具）- `indicators/fibonacci_tools.py`
- **ElliottWave**（波浪分析）- `indicators/elliott_wave.py`
- **GannTools**（江恩工具）- `indicators/gann_tools.py`
- **VShapedReversal**（V形反转）- `indicators/v_shaped_reversal.py`
- **IslandReversal**（岛型反转）- `indicators/island_reversal.py`
- **TimeCycleAnalysis**（时间周期分析）- `indicators/time_cycle_analysis.py`

### 6. ZXM体系指标
- **ZXM_ABSORB**（ZXM核心吸筹公式）- `indicators/zxm_absorb.py`
- **ZXMWashPlate**（ZXM洗盘形态）- `indicators/zxm_washplate.py`
- **ZXMDailyTrendUp**（ZXM日线趋势）- `indicators/zxm/trend_indicators.py`
- **ZXMWeeklyTrendUp**（ZXM周线趋势）- `indicators/zxm/trend_indicators.py`
- **ZXMMonthlyKDJTrendUp**（ZXM月线KDJ趋势）- `indicators/zxm/trend_indicators.py`
- **ZXMAmplitudeElasticity**（ZXM振幅弹性）- `indicators/zxm/elasticity_indicators.py`
- **ZXMRiseElasticity**（ZXM涨幅弹性）- `indicators/zxm/elasticity_indicators.py`
- **ZXMDailyMACD**（ZXM日MACD买点）- `indicators/zxm/buy_point_indicators.py`
- **ZXMTurnover**（ZXM换手率指标）- `indicators/zxm/buy_point_indicators.py`
- **ZXMVolumeShrink**（ZXM成交量萎缩）- `indicators/zxm/buy_point_indicators.py`
- **ZXMMACallback**（ZXM回踩均线）- `indicators/zxm/buy_point_indicators.py`
- **ZXMBSAbsorb**（ZXM吸筹指标）- `indicators/zxm/buy_point_indicators.py`
- **ZXMElasticityScore**（ZXM弹性评分）- `indicators/zxm/score_indicators.py`
- **ZXMBuyPointScore**（ZXM买点评分）- `indicators/zxm/score_indicators.py`
- **ZXMSelectionModel**（ZXM通用选股模型）- `indicators/zxm/selection_model.py`

### 7. 综合分析指标
- **Divergence**（量价背离指标）- `indicators/divergence.py`
- **MultiPeriodResonance**（多周期共振分析）- `indicators/multi_period_resonance.py`

## 目录

- [一、趋势类指标](#一趋势类指标)
- [二、震荡类指标](#二震荡类指标)
- [三、量能类指标](#三量能类指标)
- [四、波动性指标](#四波动性指标)
- [五、形态识别指标](#五形态识别指标)
- [六、ZXM体系指标](#六zxm体系指标)
- [七、综合分析指标](#七综合分析指标)
- [八、指标信号的量化标准](#八指标信号的量化标准)
- [九、实战应用建议](#九实战应用建议)

## 一、趋势类指标

### 1. 移动平均线(MA)

**概念说明：**
移动平均线是将一定时期内的证券价格（或指数）加以平均，并把不同时间的平均值连接起来形成的一根线，用以反映价格在一段时间内的平均水平及其走势。它能有效过滤掉短期价格波动中的噪音，反映价格的总体趋势。

**计算参数：**
- periods：周期列表，默认为[5, 10, 20, 30, 60]
- ma_type：平均线类型，可选simple(简单)、ema(指数)、wma(加权)、sma(平滑)
- weight：SMA的权重参数，默认为1

**通达信公式：**
```
MA5:MA(CLOSE,5);
MA10:MA(CLOSE,10);
MA20:MA(CLOSE,20);
MA30:MA(CLOSE,30);
MA60:MA(CLOSE,60);

# 指数移动平均线(EMA)
EMA5:EMA(CLOSE,5);
EMA10:EMA(CLOSE,10);

# 加权移动平均线(WMA)
WMA5:WMA(CLOSE,5);
WMA10:WMA(CLOSE,10);
```

**买入信号：**
- 短期均线上穿长期均线（如5日均线上穿20日均线）
- 价格上穿均线
- 均线系统由下行转为上行排列（金叉发散）

**卖出信号：**
- 短期均线下穿长期均线（如5日均线下穿20日均线）
- 价格下穿均线
- 均线系统由上行转为下行排列（死叉发散）

**中性信号：**
- 价格在均线附近小幅波动
- 各周期均线相互缠绕
- 均线系统呈水平排列

### 2. 指数移动平均线(EMA)

**买入信号：**
- 短期EMA上穿长期EMA
- 价格上穿EMA
- 多条EMA由下向上发散排列

**卖出信号：**
- 短期EMA下穿长期EMA
- 价格下穿EMA
- 多条EMA由上向下发散排列

**中性信号：**
- 价格与EMA平行运行
- 多条EMA交织在一起
- EMA曲线趋于平缓

### 3. 加权移动平均线(WMA)

**买入信号：**
- 短期WMA上穿长期WMA
- 价格上穿WMA
- WMA向上倾斜角度增大

**卖出信号：**
- 短期WMA下穿长期WMA
- 价格下穿WMA
- WMA向下倾斜角度增大

**中性信号：**
- WMA走平
- 价格在WMA附近波动
- 短期与长期WMA交织

### 4. 平滑异同移动平均线(MACD)

**概念说明：**
MACD(Moving Average Convergence Divergence)是由两条不同参数的指数移动平均线的差值计算得出，并通过信号线（差值的移动平均）来判断买卖时机。它是一种趋势跟踪的动量指标，能够有效识别趋势的方向和强度，同时能够发现潜在的趋势转折点。

**计算参数：**
- fast_period：快线周期，默认为12
- slow_period：慢线周期，默认为26
- signal_period：信号线周期，默认为9

**计算方法：**
1. DIF = EMA(CLOSE, fast_period) - EMA(CLOSE, slow_period)
2. DEA = EMA(DIF, signal_period)
3. MACD = (DIF - DEA) * 2（柱状图）

**通达信公式：**
```
DIF:EMA(CLOSE,12)-EMA(CLOSE,26);
DEA:EMA(DIF,9);
MACD:(DIF-DEA)*2,COLORSTICK;
```

**买入信号：**
- DIF线上穿DEA线（金叉）
- DIF线上穿0轴
- 柱状图由负转正且持续增长
- 出现正背离（价格创新低但MACD未创新低）

**卖出信号：**
- DIF线下穿DEA线（死叉）
- DIF线下穿0轴
- 柱状图由正转负且持续减少
- 出现负背离（价格创新高但MACD未创新高）

**中性信号：**
- DIF线与DEA线平行运行
- 柱状图波动较小
- DIF和DEA都在0轴附近波动

### 5. 布林带(BOLL)

**概念说明：**
布林带(Bollinger Bands)是由约翰·布林（John Bollinger）在1980年代创建的技术分析工具，是一种利用统计学原理的动态技术指标。它由中轨（移动平均线）以及上下两条分别表示价格标准差的轨道组成，可以反映价格的波动性和可能的反转点。

**计算参数：**
- periods：周期，默认为20
- std_dev：标准差倍数，默认为2.0
- bw_periods：带宽变化率计算周期，默认为20

**计算方法：**
1. 中轨(MIDDLE) = MA(CLOSE, periods)
2. 标准差(STDDEV) = SQRT(SUM((CLOSE - MIDDLE)^2, periods) / periods)
3. 上轨(UPPER) = MIDDLE + std_dev * STDDEV
4. 下轨(LOWER) = MIDDLE - std_dev * STDDEV
5. 带宽(BANDWIDTH) = (UPPER - LOWER) / MIDDLE
6. 带宽变化率(BANDWIDTH_RATE) = (当前带宽 - N周期前带宽) / N周期前带宽 * 100

**通达信公式：**
```
BOLL:MA(CLOSE,20);
UB:BOLL+2*STD(CLOSE,20);
LB:BOLL-2*STD(CLOSE,20);
BW:(UB-LB)/BOLL;
BWRATE:(BW-REF(BW,20))/REF(BW,20)*100;
```

**买入信号：**
- 价格由下轨向上突破中轨
- 价格触及下轨后反弹
- 布林带开口向上扩张，价格沿上轨运行
- 带宽由收缩转为扩张（带宽变化率由负转正），特别是在带宽长期收缩后
- 带宽处于低位（带宽收缩超过15%）后开始扩张

**卖出信号：**
- 价格由上轨向下突破中轨
- 价格触及上轨后回落
- 布林带开口向下扩张，价格沿下轨运行
- 带宽快速扩张（带宽变化率>20%）后的价格见顶回落

**中性信号：**
- 价格在中轨附近波动
- 布林带收窄（带宽持续下降）
- 价格在布林带中轨小幅震荡

**带宽变化率的应用：**
- 带宽变化率为负且持续下降，表示波动性减小，市场进入盘整阶段
- 带宽变化率由负转正，表示波动性开始增加，可能出现行情突破
- 带宽变化率迅速上升（>20%），表示波动性急剧增加，行情已经开始发展
- 带宽变化率长期为负后再次大幅上升，通常预示着重要的市场转折点

### 6. 抛物线转向(SAR)

**买入信号：**
- 价格上穿SAR点
- SAR点由价格上方转为价格下方
- SAR点间距扩大，表明上升趋势加速

**卖出信号：**
- 价格下穿SAR点
- SAR点由价格下方转为价格上方
- SAR点间距扩大，表明下降趋势加速

**中性信号：**
- SAR点与价格频繁交叉
- SAR点间距较小
- SAR与价格缠绕

### 7. 趋向指标(DMI)

**买入信号：**
- +DI上穿-DI
- ADX>25且上升，表明趋势增强
- +DI持续上升而-DI下降

**卖出信号：**
- -DI上穿+DI
- ADX>25且上升，表明趋势增强
- -DI持续上升而+DI下降

**中性信号：**
- +DI与-DI交织
- ADX<20，表明无明显趋势
- ADX下降，表明趋势减弱

### 8. 均线多空指标(BIAS)

**买入信号：**
- BIAS从极度超卖区域（<-6%）回升
- BIAS上穿其均线
- BIAS由负转正

**卖出信号：**
- BIAS从极度超买区域（>6%）回落
- BIAS下穿其均线
- BIAS由正转负

**中性信号：**
- BIAS在-3%至+3%之间波动
- BIAS与其均线缠绕
- BIAS波动幅度减小

### 9. TRIX三重指数平滑移动平均线

**买入信号：**
- TRIX上穿0轴
- TRIX上穿MATRIX信号线（金叉）
- TRIX在低位区域转向向上

**卖出信号：**
- TRIX下穿0轴
- TRIX下穿MATRIX信号线（死叉）
- TRIX在高位区域转向向下

**中性信号：**
- TRIX在0轴附近小幅波动
- TRIX与MATRIX线平行运行
- TRIX曲线趋于平缓

### 10. 平台突破指标(PlatformBreakout)

**买入信号：**
- 价格从平台整理区间向上突破
- 突破时成交量放大
- 平台持续时间越长，突破信号越强

**卖出信号：**
- 价格从平台整理区间向下突破
- 突破时成交量放大
- 回踩平台后继续下行

**中性信号：**
- 价格仍在平台整理区间内波动
- 突破后快速回落至整理区间
- 突破时成交量未能明显放大

## 二、震荡类指标

### 1. 相对强弱指标(RSI)

**概念说明：**
RSI(Relative Strength Index)是由威尔斯·威尔德(J. Welles Wilder)于1978年提出的一种动量震荡指标，通过计算价格变动的相对强度来衡量市场超买或超卖情况。它将一定时期内价格上涨和下跌的平均幅度进行对比，以百分比数值来表示。

**计算参数：**
- period：计算周期，常用值为6、14、24
- overbought：超买阈值，默认为70
- oversold：超卖阈值，默认为30

**计算方法：**
1. 计算上涨幅度(U)和下跌幅度(D)
   - U = 当日收盘价 - 前日收盘价 (若为正)，否则为0
   - D = 前日收盘价 - 当日收盘价 (若为正)，否则为0
2. 计算平均上涨幅度(AU)和平均下跌幅度(AD)
   - AU = SMA(U, period)
   - AD = SMA(D, period)
3. 计算相对强度(RS)
   - RS = AU / AD
4. 计算RSI
   - RSI = 100 - 100 / (1 + RS)

**通达信公式：**
```
LC:=REF(CLOSE,1);
RSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;
RSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;
RSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;
```

**买入信号：**
- RSI从超卖区域（<30）回升向上
- RSI上穿50水平线
- RSI形成底背离（价格创新低但RSI未创新低）

**卖出信号：**
- RSI从超买区域（>70）回落向下
- RSI下穿50水平线
- RSI形成顶背离（价格创新高但RSI未创新高）

**中性信号：**
- RSI在40-60区间内波动
- RSI曲线趋于平缓
- RSI未形成明显的方向性趋势

**双周期RSI策略：**

**概念说明：**
双周期RSI策略是通过同时使用短周期(RSI6)和长周期(RSI14)的RSI指标进行协同判断的方法。短周期RSI对价格变动更为敏感，而长周期RSI则能更好地反映整体趋势，两者结合使用可以提高信号的可靠性，减少虚假信号。

**关键参数：**
- 短周期：6日RSI
- 长周期：14日RSI
- 超买/超卖阈值可适当调整：短周期(RSI6)为30/70，长周期(RSI14)为35/65

**双周期RSI买入信号：**
- 两个周期的RSI都处于上升状态，且至少有一个来自超卖区域
- RSI6上穿RSI14（短期动能增强）
- 两个RSI都在50以上且RSI6>RSI14，确认多头趋势
- 价格创新低但两个RSI都未创新低，形成底背离

**双周期RSI卖出信号：**
- 两个周期的RSI都处于下降状态，且至少有一个来自超买区域
- RSI6下穿RSI14（短期动能减弱）
- 两个RSI都在50以下且RSI6<RSI14，确认空头趋势
- 价格创新高但两个RSI都未创新高，形成顶背离

**双周期RSI使用技巧：**
- 在多头市场中，RSI6上穿RSI14后，两者同时向上运行是强势信号
- 在空头市场中，RSI6下穿RSI14后，两者同时向下运行是弱势信号
- 当RSI6和RSI14同时处于超卖区域并开始回升时，买入信号更为可靠
- 当RSI6和RSI14同时处于超买区域并开始回落时，卖出信号更为可靠
- 观察两个RSI之间的背离也能提供额外的信号：当RSI6与RSI14出现背离时，可能暗示短期内趋势将发生改变

### 2. 随机指标(KDJ)

**概念说明：**
KDJ指标是一种超买超卖指标，由乔治·莱恩（George Lane）创建，综合了RSI和随机指标的优点。它通过比较特定周期内收盘价在最高价和最低价之间的位置来判断市场超买超卖状态，能有效判断股价的运行趋势和买卖时机。

**计算参数：**
- n：RSV周期，默认为9
- m1：K值平滑因子，默认为3
- m2：D值平滑因子，默认为3

**计算方法：**
1. RSV = (CLOSE - MIN(LOW, n)) / (MAX(HIGH, n) - MIN(LOW, n)) * 100
2. K = SMA(RSV, m1, 1)
3. D = SMA(K, m2, 1)
4. J = 3 * K - 2 * D

**通达信公式：**
```
RSV:=(CLOSE-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100;
K:SMA(RSV,3,1);
D:SMA(K,3,1);
J:3*K-2*D;
```

**买入信号：**
- K线从下方穿过D线（金叉），且处于低位（<30）
- J值从低位快速上升
- KDJ三线同向向上排列

**卖出信号：**
- K线从上方穿过D线（死叉），且处于高位（>70）
- J值从高位快速下降
- KDJ三线同向向下排列

**中性信号：**
- K与D线交错运行在中性区域（30-70之间）
- J值在中性区域波动
- KDJ三线无明显方向

### 3. 威廉指标(WR)

**买入信号：**
- WR从超卖区域（-80以下）向上穿越
- WR在低位出现回升
- WR连续位于低位后开始上升

**卖出信号：**
- WR从超买区域（-20以上）向下穿越
- WR在高位出现回落
- WR连续位于高位后开始下降

**中性信号：**
- WR在-20到-80之间波动
- WR没有明显的方向性变化
- WR波动幅度减小

### 4. 顺势指标(CCI)

**买入信号：**
- CCI从-100以下向上穿越-100
- CCI从负值向上穿越0轴
- CCI由下降转为上升

**卖出信号：**
- CCI从+100以上向下穿越+100
- CCI从正值向下穿越0轴
- CCI由上升转为下降

**中性信号：**
- CCI在-100到+100之间小幅波动
- CCI在0轴附近震荡
- CCI曲线趋于平缓

### 5. 动量指标(MTM)

**买入信号：**
- MTM由负转正
- MTM上穿其均线
- MTM在底部区域回升

**卖出信号：**
- MTM由正转负
- MTM下穿其均线
- MTM在顶部区域回落

**中性信号：**
- MTM在0轴附近小幅波动
- MTM与其均线交织
- MTM曲线趋于平缓

### 6. 变动率(ROC)

**买入信号：**
- ROC由负转正
- ROC上穿其均线
- ROC从低位区域快速上升

**卖出信号：**
- ROC由正转负
- ROC下穿其均线
- ROC从高位区域快速下降

**中性信号：**
- ROC在0轴附近小幅波动
- ROC与其均线交织
- ROC波动幅度减小

### 7. 随机相对强弱指标(StochRSI)

**买入信号：**
- StochRSI从超卖区域（<0.2）上升
- StochRSI上穿0.5水平
- StochRSI从低位快速上升

**卖出信号：**
- StochRSI从超买区域（>0.8）下降
- StochRSI下穿0.5水平
- StochRSI从高位快速下降

**中性信号：**
- StochRSI在0.2-0.8区间波动
- StochRSI在0.5附近震荡
- StochRSI波动幅度减小

### 8. Momentum(动量指标)

**买入信号：**
- Momentum由负转正
- Momentum上穿其均线
- Momentum从低位快速上升

**卖出信号：**
- Momentum由正转负
- Momentum下穿其均线
- Momentum从高位快速下降

**中性信号：**
- Momentum在0轴附近震荡
- Momentum与均线交织
- Momentum无明显方向性变化

### 9. RSIMA(RSI均线系统指标)

**买入信号：**
- RSI短期均线上穿RSI长期均线
- RSI上穿其均线系统
- RSI均线系统由下行转为上行排列

**卖出信号：**
- RSI短期均线下穿RSI长期均线
- RSI下穿其均线系统
- RSI均线系统由上行转为下行排列

**中性信号：**
- RSI在均线系统附近波动
- RSI均线系统相互交织
- RSI均线走平

### 10. 指数平均数指标(EMV)

**买入信号：**
- EMV上穿0轴
- EMV上穿其移动平均线
- EMV从低位持续上升

**卖出信号：**
- EMV下穿0轴
- EMV下穿其移动平均线
- EMV从高位持续下降

**中性信号：**
- EMV在0轴附近小幅波动
- EMV与其移动平均线交织
- EMV无明显方向性变化

## 三、量能类指标

### 1. 成交量(VOL)

**买入信号：**
- 价格上涨同时成交量放大
- 成交量连续萎缩后突然放大
- 量能突破前期高点

**卖出信号：**
- 价格上涨但成交量持续萎缩
- 价格下跌同时成交量放大
- 连续放量上涨后量能见顶

**中性信号：**
- 成交量保持平稳
- 量能变化与价格变化不匹配
- 成交量持续处于低位

### 2. 能量潮(OBV)

**买入信号：**
- OBV上穿其均线
- OBV持续上升
- 出现正背离（价格创新低但OBV未创新低）

**卖出信号：**
- OBV下穿其均线
- OBV持续下降
- 出现负背离（价格创新高但OBV未创新高）

**中性信号：**
- OBV与其均线平行运行
- OBV没有明显趋势
- OBV在窄幅区间内波动

### 3. 成交量变异率(VOSC)

**买入信号：**
- VOSC上穿0轴
- VOSC上穿其均线
- VOSC持续上升

**卖出信号：**
- VOSC下穿0轴
- VOSC下穿其均线
- VOSC持续下降

**中性信号：**
- VOSC在0轴附近小幅波动
- VOSC与其均线缠绕
- VOSC波动幅度减小

### 4. 资金流向指标(MFI)

**买入信号：**
- MFI从超卖区域（20以下）上穿超卖阈值
- 出现正背离（价格创新低但MFI未创新低）
- MFI由下降转为上升

**卖出信号：**
- MFI从超买区域（80以上）下穿超买阈值
- 出现负背离（价格创新高但MFI未创新高）
- MFI由上升转为下降

**中性信号：**
- MFI在20-80之间波动
- MFI没有明显方向性变化
- MFI曲线趋于平缓

### 5. 成交量指标(VR)

**买入信号：**
- VR从低位（<70）回升
- VR上穿其均线
- VR持续上升

**卖出信号：**
- VR从高位（>160）回落
- VR下穿其均线
- VR持续下降

**中性信号：**
- VR在中性区域（70-160）波动
- VR与均线无明显交叉
- VR波动幅度减小

### 6. 价量趋势指标(PVT)

**买入信号：**
- PVT上穿其均线
- PVT持续上升
- 出现正背离（价格创新低但PVT未创新低）

**卖出信号：**
- PVT下穿其均线
- PVT持续下降
- 出现负背离（价格创新高但PVT未创新高）

**中性信号：**
- PVT与其均线交织
- PVT没有明显趋势
- PVT在窄幅区间内波动

### 7. 量比指标(VolumeRatio)

**买入信号：**
- 量比>1.5，表明成交活跃
- 量比持续上升
- 量比突破前期高点

**卖出信号：**
- 量比<0.7，表明成交低迷
- 量比持续下降
- 量比见顶回落

**中性信号：**
- 量比在0.7-1.5之间波动
- 量比变化不大
- 量比处于季节性正常水平

### 8. 筹码分布指标(ChipDistribution)

**买入信号：**
- 筹码集中度提高
- 获利盘比例低于30%
- 90%筹码区间显著收窄

**卖出信号：**
- 获利盘比例高于70%
- 套牢盘开始解套
- 90%筹码区间显著扩大

**中性信号：**
- 筹码分布相对均匀
- 获利盘比例在30%-70%之间
- 筹码分布结构无明显变化

## 四、波动性指标

### 1. 平均真实波幅(ATR)

**概念说明：**
ATR(Average True Range)是由威尔斯·威尔德(J. Welles Wilder)开发的技术指标，用于测量市场波动性。它不指示价格方向，而是衡量价格波动的幅度，常用于确定止损位置和评估价格波动风险。

**计算参数：**
- period：计算周期，默认为14

**计算方法：**
1. TR(真实波幅) = MAX(HIGH-LOW, ABS(HIGH-REF(CLOSE,1)), ABS(LOW-REF(CLOSE,1)))
2. ATR = MA(TR, period)

**通达信公式：**
```
TR:=MAX(MAX((HIGH-LOW),ABS(HIGH-REF(CLOSE,1))),ABS(LOW-REF(CLOSE,1)));
ATR:MA(TR,14);
```

**买入信号：**
- ATR由下降转为上升，表明波动性增加
- 价格突破重要阻力位且ATR增大
- 低ATR值后突然放大，表明趋势可能开始

**卖出信号：**
- 价格接近阻力位且ATR收缩
- 高ATR值持续一段时间后见顶回落
- 价格大幅波动后ATR急剧扩大

**中性信号：**
- ATR值持续下降，表明波动性降低
- ATR在较低水平横盘整理
- ATR值无明显方向性变化

### 2. 日内波动率指标(INTRADAY_VOLATILITY)

**概念说明：**
日内波动率指标通过计算每日高低点的波动幅度来衡量短期市场波动情况，是衡量日内价格波动剧烈程度的重要指标。

**计算参数：**
- period：计算周期，默认为10

**计算方法：**
1. DailyRange = (HIGH - LOW) / CLOSE * 100
2. INTRADAY_VOL = MA(DailyRange, period)

**通达信公式：**
```
DAILYRANGE:=(HIGH-LOW)/CLOSE*100;
INTRADAY_VOL:MA(DAILYRANGE,10);
```

**买入信号：**
- 日内波动率从高位迅速回落
- 日内波动率低于历史平均值
- 低波动率后开始逐渐抬升

**卖出信号：**
- 日内波动率突然急剧放大
- 日内波动率连续几日保持高位
- 日内波动率创新高

**中性信号：**
- 日内波动率保持在历史平均水平
- 波动率变化不明显
- 波动率在正常范围内小幅波动

### 3. 恐慌指数(VIX)

**概念说明：**
VIX恐慌指数是衡量市场预期波动性的指标，高VIX值表示市场恐慌情绪浓厚，而低VIX值则表示市场相对平静。它常被用作市场情绪的反向指标。

**计算参数：**
- 基于期权隐含波动率计算

**通达信公式：**
```
VIX:INDEXC.VIX;
```

**买入信号：**
- VIX从极高位置（>30）开始回落
- VIX快速上升后形成顶部并回落
- VIX从长期高位出现明显下降趋势

**卖出信号：**
- VIX从低位（<15）开始快速上升
- VIX突破前期高点并持续上升
- VIX在短期内急剧攀升（>50%）

**中性信号：**
- VIX在低位（<15）维持稳定
- VIX在15-20区间小幅波动
- VIX波动性减弱且趋于平缓

## 五、形态识别指标

### 1. K线形态识别指标

**买入信号：**
- 底部反转形态确认（如锤子线、启明星、吞噬形态等）
- 突破形态确认（如突破上升三角形、杯柄形态等）
- 持续形态确认（如上升旗形、三白兵等）

**卖出信号：**
- 顶部反转形态确认（如吊颈线、黄昏星、吞噬形态等）
- 破位形态确认（如跌破下降三角形、头肩顶等）
- 持续形态确认（如下降旗形、三黑鸦等）

**中性信号：**
- 形态未完全确认
- 形态识别度低，匹配度不高
- 出现矛盾形态

### 2. 斐波那契工具指标

**买入信号：**
- 价格回调至关键斐波那契回撤位（0.382、0.5、0.618）后反弹
- 价格突破前期高点，向上达到斐波那契扩展目标位
- 时间周期点出现转折反弹

**卖出信号：**
- 价格上涨至关键斐波那契扩展位（1.618、2.618）后回落
- 价格跌破关键斐波那契支撑位
- 时间周期点出现转折回落

**中性信号：**
- 价格在斐波那契位置横盘整理
- 价格运行不符合斐波那契预测路径
- 时间周期点无明显反应

### 3. 波浪分析指标

**买入信号：**
- 五浪结构完成后形成调整浪的底部
- 识别到上升中的第三浪
- 调整浪形成标准形态后的突破

**卖出信号：**
- 五浪上升结构即将完成
- 第五浪出现明显背离
- 向下的第三浪开始形成

**中性信号：**
- 波浪计数不明确
- 波浪形态不够标准
- 处于调整浪中的横盘阶段

### 2. 高级K线形态识别指标(ADVANCED_CANDLESTICK_PATTERNS)

**买入信号：**
- 确认复杂底部形态（如三重底、圆底、W底等）
- 多个看涨K线组合同时出现（如三白兵配合上升三角形）
- 关键支撑位的反转形态（如在长期支撑位出现锤子线）

**卖出信号：**
- 确认复杂顶部形态（如三重顶、M顶、头肩顶等）
- 多个看跌K线组合同时出现（如三黑鸦配合下降三角形）
- 关键阻力位的反转形态（如在长期阻力位出现吊颈线）

**中性信号：**
- 形态识别结果相互矛盾
- 形态不完整或不标准
- 短期形态与长期趋势相反

### 3. V形反转指标(V_SHAPED_REVERSAL)

**买入信号：**
- 价格快速下跌后出现急速反弹
- 反弹力度超过下跌幅度的50%
- 反弹伴随成交量明显放大

**卖出信号：**
- 价格快速上涨后出现急速回落
- 回落幅度超过上涨幅度的50%
- 回落伴随成交量明显放大

**中性信号：**
- 反转幅度不足，未能形成完整V形
- 反转后价格陷入盘整
- 反转过程中成交量无明显变化

### 4. 岛型反转指标(ISLAND_REVERSAL)

**买入信号：**
- 下跌趋势中出现向下跳空后，随后出现向上跳空离开，形成孤岛
- 岛型底部成交量明显萎缩，向上跳空时成交量放大
- 向上跳空缺口未被回补

**卖出信号：**
- 上涨趋势中出现向上跳空后，随后出现向下跳空离开，形成孤岛
- 岛型顶部成交量剧增，向下跳空时成交量持续放大
- 向下跳空缺口未被回补

**中性信号：**
- 跳空缺口很快被回补
- 岛型形态不完整
- 岛型形成后价格无明确方向

### 5. 时间周期分析指标(TIME_CYCLE_ANALYSIS)

**买入信号：**
- 周期低点重合区出现价格止跌回升
- 多个重要时间周期的同步转折点出现支撑
- 周期图显示接近历史性底部区域

**卖出信号：**
- 周期高点重合区出现价格见顶回落
- 多个重要时间周期的同步转折点出现阻力
- 周期图显示接近历史性顶部区域

**中性信号：**
- 处于周期中间阶段，距离关键转折点较远
- 不同周期指示方向相互矛盾
- 周期转折点不明确或频繁变化

## 六、ZXM体系指标

### 1. ZXM核心吸筹公式

**概念说明：**
ZXM核心吸筹公式是基于KDJ衍生指标的低位区域信号识别算法，用于识别主力在低位吸筹动作。通过V11指标在低位区域的表现以及V12指标的回升幅度来判断主力资金介入情况，是ZXM交易体系中最核心的指标之一。

**计算参数：**
- V11：KDJ指标的衍生变种，表示价格在低位区域的强弱
- V12：V11的动量指标，表示V11的变化速率
- XG：近期满足吸筹条件的次数

**计算方法：**
1. V11 = 3*SMA((CLOSE-LLV(LOW,55))/(HHV(HIGH,55)-LLV(LOW,55))*100,5,1)-2*SMA(SMA((CLOSE-LLV(LOW,55))/(HHV(HIGH,55)-LLV(LOW,55))*100,5,1),3,1)
2. V12 = (EMA(V11,3)-REF(EMA(V11,3),1))/REF(EMA(V11,3),1)*100
3. AA = EMA(V11,3)<=13
4. BB = EMA(V11,3)<=13 AND V12>13
5. XG = COUNT(AA OR BB,6)
6. BUY = XG>=3

**通达信公式：**
```
V11:=3*SMA((CLOSE-LLV(LOW,55))/(HHV(HIGH,55)-LLV(LOW,55))*100,5,1)-2*SMA(SMA((CLOSE-LLV(LOW,55))/(HHV(HIGH,55)-LLV(LOW,55))*100,5,1),3,1);
V12:=(EMA(V11,3)-REF(EMA(V11,3),1))/REF(EMA(V11,3),1)*100;
AA:=EMA(V11,3)<=13;
BB:=EMA(V11,3)<=13 AND V12>13;
XC:=COUNT(AA,15)>=10; // 满足低位条件
XD:=COUNT(BB,10)>=5;  // 满足低位回升条件
XG:=COUNT(AA OR BB,6); // 近期满足吸筹条件次数
BUY:=XG>=3; // 满足3次以上视为有效吸筹信号
```

**买入信号：**
- V11指标在低位（≤13）区域
- V12回升超过13%
- 吸筹信号计数≥3

**卖出信号：**
- 无明确卖出信号，主要用于买点识别

**中性信号：**
- V11不在低位区域
- 吸筹信号计数<3
- V12回升幅度不足

### 2. ZXM洗盘形态指标

**买入信号：**
- 洗盘结束后价格突破前期高点
- 洗盘底部出现长下影线
- 洗盘过程中成交量持续萎缩

**卖出信号：**
- 突破失败，价格重新回落
- 短期内重复出现洗盘形态

**中性信号：**
- 洗盘过程仍在进行中
- 洗盘形态不够明确
- 价格仍在洗盘区间内波动

### 3. ZXM趋势指标系列

**买入信号：**
- ZXM日线/周线趋势向上
- 周KDJ·D或DEA上移
- 月KDJ·D及K上移
- 周MACD<2，月MACD<1.5

**卖出信号：**
- ZXM日线/周线趋势向下
- 周KDJ·D或DEA下移
- 月KDJ·D及K下移
- 周MACD>2，月MACD>1.5

**中性信号：**
- 不同周期趋势方向不一致
- 指标接近临界值但未明确突破
- 趋势未形成明确方向

### 4. ZXM弹性指标系列

**买入信号：**
- 振幅弹性指标处于高位
- 涨幅弹性指标处于高位
- 弹性评分指标超过80分

**卖出信号：**
- 振幅弹性指标快速下降
- 涨幅弹性指标快速下降
- 弹性评分指标低于40分

**中性信号：**
- 弹性指标处于中等水平
- 弹性指标无明确方向
- 弹性评分在40-80分之间

### 5. ZXM买点指标系列

**买入信号：**
- 日MACD金叉或0轴上穿
- 换手率突然放大后持续萎缩
- 成交量持续萎缩至地量区域
- 价格回踩关键均线获得支撑
- BS吸筹指标显示主力资金介入
- 买点评分超过85分

**卖出信号：**
- 日MACD死叉或0轴下穿
- 换手率持续超过警戒线
- 连续放量突破后量能见顶
- 价格跌破关键均线支撑
- 买点评分低于40分

**中性信号：**
- 买点指标结果相互矛盾
- 评分介于40-85分之间
- 部分信号出现但不够强烈

### 6. ZXM通用选股模型(ZXM_SELECTION_MODEL)

**买入信号：**
- 模型综合评分超过80分
- 技术面、资金面、趋势性三维指标均为正向
- 满足"趋势+弹性+买点"三大核心条件

**卖出信号：**
- 模型综合评分低于40分
- 技术面、资金面、趋势性三维指标转为负向
- 不再满足核心条件

**中性信号：**
- 模型评分在40-80分之间
- 三维指标结果不一致
- 部分核心条件满足但不完整

## 七、综合分析指标

### 1. 量价背离指标

**买入信号：**
- 正背离：价格创新低但指标未创新低
- 隐藏正背离：价格形成高点，但未创新高，而指标创新高
- 背离程度大，持续时间长

**卖出信号：**
- 负背离：价格创新高但指标未创新高
- 隐藏负背离：价格形成低点，但未创新低，而指标创新低
- 背离程度大，持续时间长

**中性信号：**
- 量价协同变动，无背离现象
- 背离程度小，不足以确认信号
- 背离持续时间短

### 2. 多周期共振分析指标

**买入信号：**
- 多个周期的指标同时产生买入信号
- 高级别确认低级别的买入信号
- 共振等级为"强"

**卖出信号：**
- 多个周期的指标同时产生卖出信号
- 高级别确认低级别的卖出信号
- 共振等级为"强"

**中性信号：**
- 不同周期指标信号不一致
- 仅个别周期出现信号
- 共振等级为"弱"

## 八、指标信号的量化标准

为实现指标信号的量化，我们定义了以下统一的信号等级：

```python
class SignalLevel:
    STRONG_BUY = 2     # 强烈买入信号
    BUY = 1            # 买入信号
    NEUTRAL = 0        # 中性信号
    SELL = -1          # 卖出信号
    STRONG_SELL = -2   # 强烈卖出信号
    
    WEAK_BUY = 0.5     # 弱买入信号
    WEAK_SELL = -0.5   # 弱卖出信号
```

各个指标实现中应返回标准化的信号值，便于系统化策略开发和回测。

## 九、实战应用建议

### 1. 信号确认方法

- **多指标交叉验证**：使用不同类型的指标进行交叉验证，提高信号可靠性
- **价量配合验证**：价格信号应与成交量变化相互印证
- **形态与指标结合**：技术指标信号与K线形态相互确认
- **不同周期共振**：短期信号被更长周期的趋势所支持

### 2. 信号强度评估

- **强信号特征**：
  - 多个指标同时发出相同信号
  - 信号出现在关键价格区域
  - 有成交量配合
  - 信号幅度大且明确

- **弱信号特征**：
  - 指标信号相互矛盾
  - 信号没有价量配合
  - 信号出现在非关键区域
  - 信号幅度小且不明确

### 3. 信号冲突处理

- 趋势类指标优先于震荡类指标（在明确趋势中）
- 震荡类指标优先于趋势类指标（在震荡市场中）
- 长周期信号优先于短周期信号
- 形态确认信号优先于单一指标信号

## 十、已实现指标列表

本系统目前已实现以下52个技术指标：

### 趋势类指标
1. MA（移动平均线）
2. EMA（指数移动平均线）
3. WMA（加权移动平均线）
4. MACD（平滑异同移动平均线）
5. BIAS（乖离率）
6. BOLL（布林带）
7. SAR（抛物线转向）
8. DMI（趋向指标）
9. TRIX（三重指数平滑移动平均线）
10. PlatformBreakout（平台突破指标）

### 震荡类指标
1. RSI（相对强弱指标）
2. KDJ（随机指标）
3. WR（威廉指标）
4. CCI（顺势指标）
5. MTM（动量指标）
6. ROC（变动率）
7. StochRSI（随机相对强弱指标）
8. Momentum（动量指标）
9. RSIMA（RSI均线系统指标）
10. EMV（指数平均数指标）

### 量能类指标
1. VOL（成交量）
2. OBV（能量潮）
3. VOSC（成交量变异率）
4. MFI（资金流向指标）
5. VR（成交量指标）
6. PVT（价量趋势指标）
7. VolumeRatio（量比指标）
8. ChipDistribution（筹码分布指标）

### 波动性指标
1. ATR（平均真实波幅）
2. IntradayVolatility（日内波动率指标）
3. VIX（恐慌指数）

### 形态识别指标
1. CandlestickPatterns（K线形态识别指标）
2. AdvancedCandlestickPatterns（高级K线形态识别指标）
3. FibonacciTools（斐波那契工具指标）
4. ElliottWave（波浪分析指标）
5. GannTools（江恩工具）
6. VShapedReversal（V形反转指标）
7. IslandReversal（岛型反转指标）
8. TimeCycleAnalysis（时间周期分析指标）

### ZXM体系指标
1. ZXM_ABSORB（ZXM核心吸筹公式）
2. ZXMWashPlate（ZXM洗盘形态指标）
3. ZXMDailyTrendUp（ZXM日线趋势指标）
4. ZXMWeeklyTrendUp（ZXM周线趋势指标）
5. ZXMMonthlyKDJTrendUp（ZXM月线KDJ趋势指标）
6. ZXMAmplitudeElasticity（ZXM振幅弹性指标）
7. ZXMRiseElasticity（ZXM涨幅弹性指标）
8. ZXMDailyMACD（ZXM日MACD买点指标）
9. ZXMTurnover（ZXM换手率指标）
10. ZXMVolumeShrink（ZXM成交量萎缩指标）
11. ZXMMACallback（ZXM回踩均线指标）
12. ZXMBSAbsorb（ZXM吸筹指标）
13. ZXMElasticityScore（ZXM弹性评分指标）
14. ZXMBuyPointScore（ZXM买点评分指标）
15. ZXMSelectionModel（ZXM通用选股模型）

### 综合分析指标
1. Divergence（量价背离指标）
2. MultiPeriodResonance（多周期共振分析指标）

各指标的具体信号判断标准已在前文详细说明。用户可以根据需求组合使用这些指标，构建自己的选股和交易策略。 